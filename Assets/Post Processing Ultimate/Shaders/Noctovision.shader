//{"Values":["0","NTEC/Screen/Noctovision","_MainTex","0",""]}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Green","Green intensity","0.75","0","1"],"serial":0,"unique":2597,"type":"FloatSliderField"}|{"position":{"serializedVersion":"2","x":0.0,"y":126.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Noise","Noise intenisty","0.5","0","1"],"serial":1,"unique":-1,"type":"FloatSliderField"}|{"tempTextures":1,"passes":[{"position":{"serializedVersion":"2","x":0.0,"y":36.0,"width":212.0,"height":16.0},"InputLabels":["Game","tempRT0"],"OutputLabels":["Screen","tempRT0"],"PassLabels":["0","1"],"VariableLabels":["None"],"Input":0,"Output":1,"Pass":0,"Iterations":1,"Variable":0},{"position":{"serializedVersion":"2","x":0.0,"y":72.0,"width":212.0,"height":16.0},"InputLabels":["Game","tempRT0"],"OutputLabels":["Screen","tempRT0"],"PassLabels":["0","1"],"VariableLabels":["None"],"Input":1,"Output":0,"Pass":1,"Iterations":1,"Variable":0}],"passOptions":["0","1"],"inputOptions":["Game","tempRT0"],"outputOptions":["Screen","tempRT0"],"variableOptions":["None"]}
//\	CameraOutput\	3288.645\	71.1441\	192\	215\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			7\			0\	CameraInput\	1172.996\	195.6598\	192\	335\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			7\			1\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	728.1695\	167.9134\	192\	175\		False\			null\			null\		False\			null\			null\		True\			1\			6\	Variable3\	1496.542\	531.0696\	192\	415\		/0\		/0\		True\			9\			1\		True\			9\			2\		True\			9\			3\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			1\			3\	Pow\	2368.875\	165.1808\	192\	175\		True\			6\			5\		True\			10\			0\		True\			5\			0\	Value1\	2015.542\	475.4581\	192\	95\		/2.0\		True\			10\			2\	Variable3\	2717.316\	146.4049\	192\	415\		/1\		/1\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			7\			2\		False\			null\			null\		True\			4\			0\		False\			null\			null\		False\			null\			null\	Lerp\	3066.69\	644.3652\	192\	215\		True\			0\			3\		True\			1\			3\		True\			6\			3\		True\			8\			0\	_FloatSlider\	2557.643\	878.1748\	192\	95\		/Green\		/1\		/2597\		True\			7\			3\	Av\	1810\	85.00006\	192\	255\		/5\		True\			10\			1\		True\			3\			0\		True\			3\			1\		True\			3\			2\		False\			null\			null\	Mul\	2085\	160\	192\	215\		/4\		True\			4\			1\		True\			9\			0\		True\			5\			0\		False\			null\			null
//\	CameraOutput\	2135.053\	330.9204\	192\	215\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			19\			0\	CameraInput\	823.322\	389.3333\	192\	335\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			19\			1\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	-1258.818\	601.1188\	192\	175\		True\			7\			1\		True\			13\			1\		True\			1\			6\	Mul\	1408.401\	661.7136\	192\	175\		/4\		False\			19\			2\		True\			1\			3\		True\			4\			0\		False\			null\			null\	Sin\	973.799\	871.8726\	192\	135\		True\			3\			2\		True\			5\			0\	Mul\	613.1648\	791.2375\	192\	175\		/6\		False\			4\			1\		True\			10\			0\		True\			9\			0\		True\			6\			0\		True\			11\			0\		False\			null\			null\	Add\	153.2857\	869.9672\	192\	175\		/6\		False\			5\			3\		True\			7\			0\		True\			8\			0\		True\			12\			0\		True\			12\			1\		False\			null\			null\	Sin\	-289.7717\	807.512\	192\	135\		True\			11\			1\		True\			2\			0\	Sin\	-297.2715\	1005.012\	192\	135\		True\			11\			2\		True\			13\			0\	Sub\	119.4763\	1169.85\	192\	175\		/6\		False\			5\			2\		True\			7\			0\		True\			8\			0\		True\			12\			0\		True\			12\			1\		False\			null\			null\	Value1\	157.2159\	721.7554\	192\	95\		/512.0\		True\			5\			1\	Div\	497.0955\	1334.375\	192\	175\		/5\		False\			5\			4\		True\			7\			0\		True\			8\			0\		True\			12\			0\		False\			null\			null\	Screen\	-534.3333\	1173.66\	192\	255\		True\			11\			3\		True\			9\			4\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Mul\	-839.7632\	873.7312\	192\	175\		/5\		False\			8\			1\		True\			2\			1\		True\			14\			0\		True\			17\			0\		False\			null\			null\	Value1\	-1302.62\	919.4456\	192\	95\		/4096.0\		True\			13\			2\	Abs\	-1359.764\	1253.732\	192\	135\		True\			17\			1\		True\			16\			3\	SinTime\	-1716.906\	1050.874\	192\	255\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			15\			1\		False\			null\			null\	Add\	-982.6202\	1208.017\	192\	175\		/4\		False\			13\			3\		True\			15\			0\		True\			18\			0\		False\			null\			null\	Value1\	-1374.049\	1070.874\	192\	95\		/1.0\		True\			17\			2\	Lerp\	1752.808\	372.1837\	192\	215\		True\			0\			3\		True\			1\			3\		True\			3\			0\		True\			20\			0\	_FloatSlider\	1308.055\	391.5472\	192\	95\		/Noise\		/1\		/-1\		True\			19\			3

Shader "NTEC/Screen/Noctovision" {

	SubShader {
		Cull Off ZWrite Off ZTest Always

		Pass {
			HLSLPROGRAM
			#pragma vertex VertDefault
			#pragma fragment Frag

			#include "Packages/com.unity.postprocessing/PostProcessing/Shaders/StdLib.hlsl"

			TEXTURE2D_SAMPLER2D(_MainTex, sampler_MainTex);
			uniform half _Green;
			uniform half _Noise;

			half4 Frag (VaryingsDefault i) : SV_Target {
				half3 var0 = 0.0;
				half3 var1 = 0.0;
				half4 CameraOutput = 0.0;
				var0 = SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).rgb;
				var1.y = pow((((var0.x + var0.y + var0.z) / 3.0) * 2.0),2.0);
				CameraOutput.rgb = lerp(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).rgb,var1,_Green);
				return CameraOutput;
			}
			ENDHLSL
		}
		Pass {
			HLSLPROGRAM
			#pragma vertex VertDefault
			#pragma fragment Frag

			#include "Packages/com.unity.postprocessing/PostProcessing/Shaders/StdLib.hlsl"

			TEXTURE2D_SAMPLER2D(_MainTex, sampler_MainTex);
			uniform half _Green;
			uniform half _Noise;

			half4 Frag (VaryingsDefault i) : SV_Target {
				half4 CameraOutput = 0.0;
				CameraOutput.rgb = lerp(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).rgb,(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).rgb * sin((512.0 * (sin(i.texcoordStereo.x) - sin((i.texcoordStereo.y * 4096.0 * (abs(_SinTime.w) + 1.0))) - _ScreenParams.x - _ScreenParams.y) * (sin(i.texcoordStereo.x) + sin((i.texcoordStereo.y * 4096.0 * (abs(_SinTime.w) + 1.0))) + _ScreenParams.x + _ScreenParams.y) * (sin(i.texcoordStereo.x) / sin((i.texcoordStereo.y * 4096.0 * (abs(_SinTime.w) + 1.0))) / _ScreenParams.x)))),_Noise);
				return CameraOutput;
			}
			ENDHLSL
		}
	}
}